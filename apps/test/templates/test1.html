{{extend "test.html"}}

{{block stylecss}}
<style type="text/css">
</style>
{{end stylecss}}

{{block content}}
<fieldset ms-controller="simple">
    <legend>例子</legend>
    <p>First name: <input ms-model="firstName" /></p>
    <p>Last name: <input ms-model="lastName"  /></p>
    <p>Hello,    <input ms-model="fullName"></p>
    <div>{%firstName +" | "+ lastName %}</div>
    <p>nick name: <input ms-model="nick.name"  /></p>
    <p>{%nick.name%}</p>
</fieldset>
{{end content}}

{{block script}}
<script>
avalon.define("simple", function(vm) {
    vm.firstName = "司徒"
    vm.lastName = "正美"
    vm.fullName = {//一个包含set或get的对象会被当成PropertyDescriptor，
        set: function(val) {//set, get里面的this不能改成vm
            var array = (val || "").split(" ");
            this.firstName = array[0] || "";
            this.lastName = array[1] || "";
        },
        get: function() {
            return this.firstName + " " + this.lastName;
        }
    },
    vm.nick = {
          name: "暗黑之民"
    }
});
</script>
{{end script}}
