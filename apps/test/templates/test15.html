{{extend "test.html"}}

{{block stylecss}}
<style type="text/css">
</style>
{{end stylecss}}

{{block content}}
{{use "jquery"}}
jquery加载例子,在uliweb下不太适用
<div ms-controller="main" ms-click="click">
      <p>
          <a href="#" >点击我</a>
      </p>
</div>
{{end content}}

{{block script}}
<script>
avalon.modules.jquery = {
    exports: jQuery,
    state: 2
}
require('jquery,ready!', function($) {
    avalon.log('加载jq了啊……')
    $.ajaxSetup({
        headers: {ajaxRequest: true},
        beforeSend: function(o) {
            avalon.log(typeof o)
            avalon.log(typeof o.id)
        },
        complete: function(data) {
            avalon.log('ajax 成功执行啦，阿门！')
        }
    })
    $('body').bind("click", function(e) {
        alert("document");
        avalon.log(typeof e.target.$vmodel)
        $.post('./h.js', {}, function(res) {
            avalon.log(typeof res)
        })
    });
})
</script>
{{end script}}
